# 44. テキストデータの分割・整形（「姓 名」の分割など）

## 1. はじめに
「山田 太郎」というデータを「山田」と「太郎」の2列に分けたい。
「住所データから『都道府県』だけ抜き出したい」
こうした整形作業は、`SPLIT`関数や`LEFT`、`MID`関数を使いますが、位置指定が面倒です。

![テキストデータの分割](./../attachments/03_44_text_split_1769361313248.png)

## 2. スマートな分割指示
Geminiには、具体的なデータ例を見せるのが一番です。

> **プロンプト例**:
> 「A列に以下のような住所が入っています。
> 『東京都新宿区西新宿1-1-1』
> 『神奈川県横浜市西区...』
>
> ここから『都道府県』だけを抜き出してB列に表示する関数を作って。
> ただし、神奈川県や和歌山県のように3文字と4文字の場合があります」

Geminiは、「県」という文字を探すのか、あるいは都道府県リストと照合するのか、適切なロジック（例えば`LEFT`関数や正規表現）を提案してくれます。

## 3. フラッシュフィル的な活用
関数を使わずとも、Gemini上でデータを加工してしまう手もあります。
データをそのまま貼り付けて、「これをCSV形式で、姓と名に分けて出力して」と頼めば、整形済みのテキストを返してくれます。

---

## 4. まとめ
データの形が整っていないと、分析も活用もできません。
整形のロジックはAIに考えさせ、きれいなデータを短時間で手に入れましょう。

---

content,question_type,option_1,option_2,option_3,option_4,correct_indices,explanation,difficulty,points,tags,category
"「姓と名を分ける」「住所から都道府県だけ抜く」といったテキストデータの整形作業において、Geminiへの指示として効果的な方法はどれですか？",single,"「なんとなく分けて」と抽象的に言う","具体的なデータ例（入力と期待する出力）を提示して、それを実現する関数や手順を聞く","「気合いで直して」と精神論を伝える","モニターに向かって念じる",2,"テキスト処理の関数（SPLIT, LEFT, MID等）はパラメータ設定が複雑ですが、具体的な事例（Before/After）を見せることで、AIは意図を正確に理解し、最適な関数を提案できます。",1,10,"データ整形,SPLIT関数,テキスト処理","データ活用"

